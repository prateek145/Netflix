{"ast":null,"code":"\"use strict\";\n\nvar _objectSpread = require(\"/home/prateek/python_projects/netflix/netflix2/node_modules/@babel/runtime/helpers/objectSpread2\");\n\nvar _createForOfIteratorHelper = require(\"/home/prateek/python_projects/netflix/netflix2/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deselectOptions = exports.selectOptions = void 0;\n\nvar _dom = require(\"@testing-library/dom\");\n\nvar _click = require(\"./click\");\n\nvar _focus = require(\"./focus\");\n\nvar _hover = require(\"./hover\");\n\nfunction selectOptionsBase(newValue, select, values, init) {\n  if (!newValue && !select.multiple) {\n    throw (0, _dom.getConfig)().getElementError(\"Unable to deselect an option in a non-multiple select. Use selectOptions to change the selection instead.\", select);\n  }\n\n  var valArray = Array.isArray(values) ? values : [values];\n  var allOptions = Array.from(select.querySelectorAll('option, [role=\"option\"]'));\n  var selectedOptions = valArray.map(function (val) {\n    if (allOptions.includes(val)) {\n      return val;\n    } else {\n      var matchingOption = allOptions.find(function (o) {\n        return o.value === val || o.innerHTML === val;\n      });\n\n      if (matchingOption) {\n        return matchingOption;\n      } else {\n        throw (0, _dom.getConfig)().getElementError(\"Value \\\"\".concat(val, \"\\\" not found in options\"), select);\n      }\n    }\n  }).filter(function (option) {\n    return !option.disabled;\n  });\n  if (select.disabled || !selectedOptions.length) return;\n\n  if (select.multiple) {\n    var _iterator = _createForOfIteratorHelper(selectedOptions),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var option = _step.value;\n\n        // events fired for multiple select are weird. Can't use hover...\n        _dom.fireEvent.pointerOver(option, init);\n\n        _dom.fireEvent.pointerEnter(select, init);\n\n        _dom.fireEvent.mouseOver(option);\n\n        _dom.fireEvent.mouseEnter(select);\n\n        _dom.fireEvent.pointerMove(option, init);\n\n        _dom.fireEvent.mouseMove(option, init);\n\n        _dom.fireEvent.pointerDown(option, init);\n\n        _dom.fireEvent.mouseDown(option, init);\n\n        (0, _focus.focus)(select, init);\n\n        _dom.fireEvent.pointerUp(option, init);\n\n        _dom.fireEvent.mouseUp(option, init);\n\n        selectOption(option);\n\n        _dom.fireEvent.click(option, init);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else if (selectedOptions.length === 1) {\n    (0, _click.click)(select, init);\n    selectOption(selectedOptions[0]);\n  } else {\n    throw (0, _dom.getConfig)().getElementError(\"Cannot select multiple options on a non-multiple select\", select);\n  }\n\n  function selectOption(option) {\n    if (option.getAttribute('role') === 'option') {\n      option == null ? void 0 : option.setAttribute == null ? void 0 : option.setAttribute('aria-selected', newValue);\n      (0, _hover.hover)(option, init);\n      (0, _click.click)(option, init);\n      (0, _hover.unhover)(option, init);\n    } else {\n      option.selected = newValue;\n      (0, _dom.fireEvent)(select, (0, _dom.createEvent)('input', select, _objectSpread({\n        bubbles: true,\n        cancelable: false,\n        composed: true\n      }, init)));\n\n      _dom.fireEvent.change(select, init);\n    }\n  }\n}\n\nvar selectOptions = selectOptionsBase.bind(null, true);\nexports.selectOptions = selectOptions;\nvar deselectOptions = selectOptionsBase.bind(null, false);\nexports.deselectOptions = deselectOptions;","map":{"version":3,"sources":["/home/prateek/python_projects/netflix/netflix2/node_modules/@testing-library/user-event/dist/select-options.js"],"names":["Object","defineProperty","exports","value","deselectOptions","selectOptions","_dom","require","_click","_focus","_hover","selectOptionsBase","newValue","select","values","init","multiple","getConfig","getElementError","valArray","Array","isArray","allOptions","from","querySelectorAll","selectedOptions","map","val","includes","matchingOption","find","o","innerHTML","filter","option","disabled","length","fireEvent","pointerOver","pointerEnter","mouseOver","mouseEnter","pointerMove","mouseMove","pointerDown","mouseDown","focus","pointerUp","mouseUp","selectOption","click","getAttribute","setAttribute","hover","unhover","selected","createEvent","bubbles","cancelable","composed","change","bind"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deselectOptions = exports.selectOptions = void 0;\n\nvar _dom = require(\"@testing-library/dom\");\n\nvar _click = require(\"./click\");\n\nvar _focus = require(\"./focus\");\n\nvar _hover = require(\"./hover\");\n\nfunction selectOptionsBase(newValue, select, values, init) {\n  if (!newValue && !select.multiple) {\n    throw (0, _dom.getConfig)().getElementError(`Unable to deselect an option in a non-multiple select. Use selectOptions to change the selection instead.`, select);\n  }\n\n  const valArray = Array.isArray(values) ? values : [values];\n  const allOptions = Array.from(select.querySelectorAll('option, [role=\"option\"]'));\n  const selectedOptions = valArray.map(val => {\n    if (allOptions.includes(val)) {\n      return val;\n    } else {\n      const matchingOption = allOptions.find(o => o.value === val || o.innerHTML === val);\n\n      if (matchingOption) {\n        return matchingOption;\n      } else {\n        throw (0, _dom.getConfig)().getElementError(`Value \"${val}\" not found in options`, select);\n      }\n    }\n  }).filter(option => !option.disabled);\n  if (select.disabled || !selectedOptions.length) return;\n\n  if (select.multiple) {\n    for (const option of selectedOptions) {\n      // events fired for multiple select are weird. Can't use hover...\n      _dom.fireEvent.pointerOver(option, init);\n\n      _dom.fireEvent.pointerEnter(select, init);\n\n      _dom.fireEvent.mouseOver(option);\n\n      _dom.fireEvent.mouseEnter(select);\n\n      _dom.fireEvent.pointerMove(option, init);\n\n      _dom.fireEvent.mouseMove(option, init);\n\n      _dom.fireEvent.pointerDown(option, init);\n\n      _dom.fireEvent.mouseDown(option, init);\n\n      (0, _focus.focus)(select, init);\n\n      _dom.fireEvent.pointerUp(option, init);\n\n      _dom.fireEvent.mouseUp(option, init);\n\n      selectOption(option);\n\n      _dom.fireEvent.click(option, init);\n    }\n  } else if (selectedOptions.length === 1) {\n    (0, _click.click)(select, init);\n    selectOption(selectedOptions[0]);\n  } else {\n    throw (0, _dom.getConfig)().getElementError(`Cannot select multiple options on a non-multiple select`, select);\n  }\n\n  function selectOption(option) {\n    if (option.getAttribute('role') === 'option') {\n      option == null ? void 0 : option.setAttribute == null ? void 0 : option.setAttribute('aria-selected', newValue);\n      (0, _hover.hover)(option, init);\n      (0, _click.click)(option, init);\n      (0, _hover.unhover)(option, init);\n    } else {\n      option.selected = newValue;\n      (0, _dom.fireEvent)(select, (0, _dom.createEvent)('input', select, {\n        bubbles: true,\n        cancelable: false,\n        composed: true,\n        ...init\n      }));\n\n      _dom.fireEvent.change(select, init);\n    }\n  }\n}\n\nconst selectOptions = selectOptionsBase.bind(null, true);\nexports.selectOptions = selectOptions;\nconst deselectOptions = selectOptionsBase.bind(null, false);\nexports.deselectOptions = deselectOptions;"]},"metadata":{},"sourceType":"script"}