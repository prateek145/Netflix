{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/home/prateek/python_projects/netflix/netflix2/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _regeneratorRuntime = require(\"/home/prateek/python_projects/netflix/netflix2/node_modules/@babel/runtime/regenerator\");\n\nvar _objectWithoutProperties = require(\"/home/prateek/python_projects/netflix/netflix2/node_modules/@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _defineProperty = require(\"/home/prateek/python_projects/netflix/netflix2/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar _asyncToGenerator = require(\"/home/prateek/python_projects/netflix/netflix2/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _objectSpread = require(\"/home/prateek/python_projects/netflix/netflix2/node_modules/@babel/runtime/helpers/objectSpread2\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.type = type;\n\nvar _dom = require(\"@testing-library/dom\");\n\nvar _utils = require(\"./utils\");\n\nvar _click = require(\"./click\"); // TODO: wrap in asyncWrapper\n\n\nvar modifierCallbackMap = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, createModifierCallbackEntries({\n  name: 'shift',\n  key: 'Shift',\n  keyCode: 16,\n  modifierProperty: 'shiftKey'\n})), createModifierCallbackEntries({\n  name: 'ctrl',\n  key: 'Control',\n  keyCode: 17,\n  modifierProperty: 'ctrlKey'\n})), createModifierCallbackEntries({\n  name: 'alt',\n  key: 'Alt',\n  keyCode: 18,\n  modifierProperty: 'altKey'\n})), createModifierCallbackEntries({\n  name: 'meta',\n  key: 'Meta',\n  keyCode: 93,\n  modifierProperty: 'metaKey'\n}));\n\nvar specialCharCallbackMap = {\n  '{enter}': handleEnter,\n  '{esc}': handleEsc,\n  '{del}': handleDel,\n  '{backspace}': handleBackspace,\n  '{selectall}': handleSelectall,\n  '{space}': handleSpace,\n  ' ': handleSpace\n};\n\nfunction wait(time) {\n  return new Promise(function (resolve) {\n    return setTimeout(function () {\n      return resolve();\n    }, time);\n  });\n} // this needs to be wrapped in the event/asyncWrapper for React's act and angular's change detection\n// depending on whether it will be async.\n\n\nfunction type(_x, _x2) {\n  return _type.apply(this, arguments);\n}\n\nfunction _type() {\n  _type = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(element, text) {\n    var _ref18,\n        _ref18$delay,\n        delay,\n        options,\n        result,\n        _args2 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _ref18 = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : {}, _ref18$delay = _ref18.delay, delay = _ref18$delay === void 0 ? 0 : _ref18$delay, options = _objectWithoutProperties(_ref18, [\"delay\"]);\n\n            if (!(delay > 0)) {\n              _context2.next = 6;\n              break;\n            }\n\n            _context2.next = 4;\n            return (0, _dom.getConfig)().asyncWrapper( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n              return _regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.next = 2;\n                      return typeImpl(element, text, _objectSpread({\n                        delay: delay\n                      }, options));\n\n                    case 2:\n                      result = _context.sent;\n\n                    case 3:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee);\n            })));\n\n          case 4:\n            _context2.next = 7;\n            break;\n\n          case 6:\n            result = typeImpl(element, text, _objectSpread({\n              delay: delay\n            }, options));\n\n          case 7:\n            return _context2.abrupt(\"return\", result);\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _type.apply(this, arguments);\n}\n\nfunction typeImpl(_x3, _x4, _x5) {\n  return _typeImpl.apply(this, arguments);\n}\n\nfunction _typeImpl() {\n  _typeImpl = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(element, text, _ref) {\n    var delay, _ref$skipClick, skipClick, _ref$skipAutoClose, skipAutoClose, initialSelectionStart, initialSelectionEnd, range, currentElement, value, _ref20, selectionStart, selectionEnd, eventCallbacks;\n\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            delay = _ref.delay, _ref$skipClick = _ref.skipClick, skipClick = _ref$skipClick === void 0 ? false : _ref$skipClick, _ref$skipAutoClose = _ref.skipAutoClose, skipAutoClose = _ref$skipAutoClose === void 0 ? false : _ref$skipAutoClose, initialSelectionStart = _ref.initialSelectionStart, initialSelectionEnd = _ref.initialSelectionEnd;\n\n            if (!element.disabled) {\n              _context4.next = 3;\n              break;\n            }\n\n            return _context4.abrupt(\"return\");\n\n          case 3:\n            if (!skipClick) (0, _click.click)(element);\n\n            if ((0, _utils.isContentEditable)(element) && document.getSelection().rangeCount === 0) {\n              range = document.createRange();\n              range.setStart(element, 0);\n              range.setEnd(element, 0);\n              document.getSelection().addRange(range);\n            } // The focused element could change between each event, so get the currently active element each time\n\n\n            currentElement = function currentElement() {\n              return (0, _utils.getActiveElement)(element.ownerDocument);\n            }; // by default, a new element has it's selection start and end at 0\n            // but most of the time when people call \"type\", they expect it to type\n            // at the end of the current input value. So, if the selection start\n            // and end are both the default of 0, then we'll go ahead and change\n            // them to the length of the current value.\n            // the only time it would make sense to pass the initialSelectionStart or\n            // initialSelectionEnd is if you have an input with a value and want to\n            // explicitely start typing with the cursor at 0. Not super common.\n\n\n            value = (0, _utils.getValue)(currentElement());\n            _ref20 = (0, _utils.getSelectionRange)(element), selectionStart = _ref20.selectionStart, selectionEnd = _ref20.selectionEnd;\n\n            if (value != null && selectionStart === 0 && selectionEnd === 0) {\n              (0, _utils.setSelectionRangeIfNecessary)(currentElement(), initialSelectionStart != null ? initialSelectionStart : value.length, initialSelectionEnd != null ? initialSelectionEnd : value.length);\n            }\n\n            eventCallbacks = function () {\n              var callbacks = [];\n              var remainingString = text;\n\n              while (remainingString) {\n                var _getNextCallback = getNextCallback(remainingString, skipAutoClose),\n                    callback = _getNextCallback.callback,\n                    newRemainingString = _getNextCallback.remainingString;\n\n                callbacks.push(callback);\n                remainingString = newRemainingString;\n              }\n\n              return callbacks;\n            }();\n\n            _context4.next = 12;\n            return function () {\n              var _ref21 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(callbacks) {\n                var eventOverrides, prevWasMinus, prevWasPeriod, prevValue, typedValue, _iterator, _step, callback, returnValue;\n\n                return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                  while (1) {\n                    switch (_context3.prev = _context3.next) {\n                      case 0:\n                        eventOverrides = {};\n                        _iterator = _createForOfIteratorHelper(callbacks);\n                        _context3.prev = 2;\n\n                        _iterator.s();\n\n                      case 4:\n                        if ((_step = _iterator.n()).done) {\n                          _context3.next = 12;\n                          break;\n                        }\n\n                        callback = _step.value;\n\n                        if (!(delay > 0)) {\n                          _context3.next = 9;\n                          break;\n                        }\n\n                        _context3.next = 9;\n                        return wait(delay);\n\n                      case 9:\n                        if (!currentElement().disabled) {\n                          returnValue = callback({\n                            currentElement: currentElement,\n                            prevWasMinus: prevWasMinus,\n                            prevWasPeriod: prevWasPeriod,\n                            prevValue: prevValue,\n                            eventOverrides: eventOverrides,\n                            typedValue: typedValue\n                          });\n                          Object.assign(eventOverrides, returnValue == null ? void 0 : returnValue.eventOverrides);\n                          prevWasMinus = returnValue == null ? void 0 : returnValue.prevWasMinus;\n                          prevWasPeriod = returnValue == null ? void 0 : returnValue.prevWasPeriod;\n                          prevValue = returnValue == null ? void 0 : returnValue.prevValue;\n                          typedValue = returnValue == null ? void 0 : returnValue.typedValue;\n                        }\n\n                      case 10:\n                        _context3.next = 4;\n                        break;\n\n                      case 12:\n                        _context3.next = 17;\n                        break;\n\n                      case 14:\n                        _context3.prev = 14;\n                        _context3.t0 = _context3[\"catch\"](2);\n\n                        _iterator.e(_context3.t0);\n\n                      case 17:\n                        _context3.prev = 17;\n\n                        _iterator.f();\n\n                        return _context3.finish(17);\n\n                      case 20:\n                      case \"end\":\n                        return _context3.stop();\n                    }\n                  }\n                }, _callee3, null, [[2, 14, 17, 20]]);\n              }));\n\n              return function (_x6) {\n                return _ref21.apply(this, arguments);\n              };\n            }()(eventCallbacks);\n\n          case 12:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _typeImpl.apply(this, arguments);\n}\n\nfunction getNextCallback(remainingString, skipAutoClose) {\n  var modifierCallback = getModifierCallback(remainingString, skipAutoClose);\n\n  if (modifierCallback) {\n    return modifierCallback;\n  }\n\n  var specialCharCallback = getSpecialCharCallback(remainingString);\n\n  if (specialCharCallback) {\n    return specialCharCallback;\n  }\n\n  return getTypeCallback(remainingString);\n}\n\nfunction getModifierCallback(remainingString, skipAutoClose) {\n  var modifierKey = Object.keys(modifierCallbackMap).find(function (key) {\n    return remainingString.startsWith(key);\n  });\n\n  if (!modifierKey) {\n    return null;\n  }\n\n  var callback = modifierCallbackMap[modifierKey]; // if this modifier has an associated \"close\" callback and the developer\n  // doesn't close it themselves, then we close it for them automatically\n  // Effectively if they send in: '{alt}a' then we type: '{alt}a{/alt}'\n\n  if (!skipAutoClose && callback.closeName && !remainingString.includes(callback.closeName)) {\n    remainingString += callback.closeName;\n  }\n\n  remainingString = remainingString.slice(modifierKey.length);\n  return {\n    callback: callback,\n    remainingString: remainingString\n  };\n}\n\nfunction getSpecialCharCallback(remainingString) {\n  var specialChar = Object.keys(specialCharCallbackMap).find(function (key) {\n    return remainingString.startsWith(key);\n  });\n\n  if (!specialChar) {\n    return null;\n  }\n\n  return {\n    callback: specialCharCallbackMap[specialChar],\n    remainingString: remainingString.slice(specialChar.length)\n  };\n}\n\nfunction getTypeCallback(remainingString) {\n  var character = remainingString[0];\n  return {\n    callback: function callback(context) {\n      return typeCharacter(character, context);\n    },\n    remainingString: remainingString.slice(1)\n  };\n}\n\nfunction setSelectionRange(_ref2) {\n  var currentElement = _ref2.currentElement,\n      newValue = _ref2.newValue,\n      newSelectionStart = _ref2.newSelectionStart;\n  // if we *can* change the selection start, then we will if the new value\n  // is the same as the current value (so it wasn't programatically changed\n  // when the fireEvent.input was triggered).\n  // The reason we have to do this at all is because it actually *is*\n  // programmatically changed by fireEvent.input, so we have to simulate the\n  // browser's default behavior\n  var value = (0, _utils.getValue)(currentElement());\n\n  if (value === newValue) {\n    (0, _utils.setSelectionRangeIfNecessary)(currentElement(), newSelectionStart, newSelectionStart);\n  } else {\n    // If the currentValue is different than the expected newValue and we *can*\n    // change the selection range, than we should set it to the length of the\n    // currentValue to ensure that the browser behavior is mimicked.\n    (0, _utils.setSelectionRangeIfNecessary)(currentElement(), value.length, value.length);\n  }\n}\n\nfunction fireInputEventIfNeeded(_ref3) {\n  var currentElement = _ref3.currentElement,\n      newValue = _ref3.newValue,\n      newSelectionStart = _ref3.newSelectionStart,\n      eventOverrides = _ref3.eventOverrides;\n  var prevValue = (0, _utils.getValue)(currentElement());\n\n  if (!currentElement().readOnly && !(0, _utils.isClickable)(currentElement()) && newValue !== prevValue) {\n    if ((0, _utils.isContentEditable)(currentElement())) {\n      _dom.fireEvent.input(currentElement(), _objectSpread({\n        target: {\n          textContent: newValue\n        }\n      }, eventOverrides));\n    } else {\n      _dom.fireEvent.input(currentElement(), _objectSpread({\n        target: {\n          value: newValue\n        }\n      }, eventOverrides));\n    }\n\n    setSelectionRange({\n      currentElement: currentElement,\n      newValue: newValue,\n      newSelectionStart: newSelectionStart\n    });\n  }\n\n  return {\n    prevValue: prevValue\n  };\n}\n\nfunction typeCharacter(char, _ref4) {\n  var currentElement = _ref4.currentElement,\n      _ref4$prevWasMinus = _ref4.prevWasMinus,\n      prevWasMinus = _ref4$prevWasMinus === void 0 ? false : _ref4$prevWasMinus,\n      _ref4$prevWasPeriod = _ref4.prevWasPeriod,\n      prevWasPeriod = _ref4$prevWasPeriod === void 0 ? false : _ref4$prevWasPeriod,\n      _ref4$prevValue = _ref4.prevValue,\n      prevValue = _ref4$prevValue === void 0 ? '' : _ref4$prevValue,\n      _ref4$typedValue = _ref4.typedValue,\n      typedValue = _ref4$typedValue === void 0 ? '' : _ref4$typedValue,\n      eventOverrides = _ref4.eventOverrides;\n  var key = char; // TODO: check if this also valid for characters with diacritic markers e.g. úé etc\n\n  var keyCode = char.charCodeAt(0);\n  var nextPrevWasMinus, nextPrevWasPeriod;\n  var textToBeTyped = typedValue + char;\n\n  var keyDownDefaultNotPrevented = _dom.fireEvent.keyDown(currentElement(), _objectSpread({\n    key: key,\n    keyCode: keyCode,\n    which: keyCode\n  }, eventOverrides));\n\n  if (keyDownDefaultNotPrevented) {\n    var keyPressDefaultNotPrevented = _dom.fireEvent.keyPress(currentElement(), _objectSpread({\n      key: key,\n      keyCode: keyCode,\n      charCode: keyCode\n    }, eventOverrides));\n\n    if ((0, _utils.getValue)(currentElement()) != null && keyPressDefaultNotPrevented) {\n      var newEntry = char;\n\n      if (prevWasMinus) {\n        newEntry = \"-\".concat(char);\n      } else if (prevWasPeriod) {\n        newEntry = \"\".concat(prevValue, \".\").concat(char);\n      }\n\n      if ((0, _utils.isValidDateValue)(currentElement(), textToBeTyped)) {\n        newEntry = textToBeTyped;\n      }\n\n      var inputEvent = fireInputEventIfNeeded(_objectSpread(_objectSpread({}, (0, _utils.calculateNewValue)(newEntry, currentElement())), {}, {\n        eventOverrides: _objectSpread({\n          data: key,\n          inputType: 'insertText'\n        }, eventOverrides),\n        currentElement: currentElement\n      }));\n      prevValue = inputEvent.prevValue;\n\n      if ((0, _utils.isValidDateValue)(currentElement(), textToBeTyped)) {\n        _dom.fireEvent.change(currentElement(), {\n          target: {\n            value: textToBeTyped\n          }\n        });\n      } // typing \"-\" into a number input will not actually update the value\n      // so for the next character we type, the value should be set to\n      // `-${newEntry}`\n      // we also preserve the prevWasMinus when the value is unchanged due\n      // to typing an invalid character (typing \"-a3\" results in \"-3\")\n      // same applies for the decimal character.\n\n\n      if (currentElement().type === 'number') {\n        var newValue = (0, _utils.getValue)(currentElement());\n\n        if (newValue === prevValue && newEntry !== '-') {\n          nextPrevWasMinus = prevWasMinus;\n        } else {\n          nextPrevWasMinus = newEntry === '-';\n        }\n\n        if (newValue === prevValue && newEntry !== '.') {\n          nextPrevWasPeriod = prevWasPeriod;\n        } else {\n          nextPrevWasPeriod = newEntry === '.';\n        }\n      }\n    }\n  }\n\n  _dom.fireEvent.keyUp(currentElement(), _objectSpread({\n    key: key,\n    keyCode: keyCode,\n    which: keyCode\n  }, eventOverrides));\n\n  return {\n    prevWasMinus: nextPrevWasMinus,\n    prevWasPeriod: nextPrevWasPeriod,\n    prevValue: prevValue,\n    typedValue: textToBeTyped\n  };\n} // yes, calculateNewBackspaceValue and calculateNewValue look extremely similar\n// and you may be tempted to create a shared abstraction.\n// If you, brave soul, decide to so endevor, please increment this count\n// when you inevitably fail: 1\n\n\nfunction calculateNewBackspaceValue(element) {\n  var _ref5 = (0, _utils.getSelectionRange)(element),\n      selectionStart = _ref5.selectionStart,\n      selectionEnd = _ref5.selectionEnd;\n\n  var value = (0, _utils.getValue)(element);\n  var newValue, newSelectionStart;\n\n  if (selectionStart === null) {\n    // at the end of an input type that does not support selection ranges\n    // https://github.com/testing-library/user-event/issues/316#issuecomment-639744793\n    newValue = value.slice(0, value.length - 1);\n    newSelectionStart = selectionStart - 1;\n  } else if (selectionStart === selectionEnd) {\n    if (selectionStart === 0) {\n      // at the beginning of the input\n      newValue = value;\n      newSelectionStart = selectionStart;\n    } else if (selectionStart === value.length) {\n      // at the end of the input\n      newValue = value.slice(0, value.length - 1);\n      newSelectionStart = selectionStart - 1;\n    } else {\n      // in the middle of the input\n      newValue = value.slice(0, selectionStart - 1) + value.slice(selectionEnd);\n      newSelectionStart = selectionStart - 1;\n    }\n  } else {\n    // we have something selected\n    var firstPart = value.slice(0, selectionStart);\n    newValue = firstPart + value.slice(selectionEnd);\n    newSelectionStart = firstPart.length;\n  }\n\n  return {\n    newValue: newValue,\n    newSelectionStart: newSelectionStart\n  };\n}\n\nfunction calculateNewDeleteValue(element) {\n  var _ref6 = (0, _utils.getSelectionRange)(element),\n      selectionStart = _ref6.selectionStart,\n      selectionEnd = _ref6.selectionEnd;\n\n  var value = (0, _utils.getValue)(element);\n  var newValue;\n\n  if (selectionStart === null) {\n    // at the end of an input type that does not support selection ranges\n    // https://github.com/testing-library/user-event/issues/316#issuecomment-639744793\n    newValue = value;\n  } else if (selectionStart === selectionEnd) {\n    if (selectionStart === 0) {\n      // at the beginning of the input\n      newValue = value.slice(1);\n    } else if (selectionStart === value.length) {\n      // at the end of the input\n      newValue = value;\n    } else {\n      // in the middle of the input\n      newValue = value.slice(0, selectionStart) + value.slice(selectionEnd + 1);\n    }\n  } else {\n    // we have something selected\n    var firstPart = value.slice(0, selectionStart);\n    newValue = firstPart + value.slice(selectionEnd);\n  }\n\n  return {\n    newValue: newValue,\n    newSelectionStart: selectionStart\n  };\n}\n\nfunction createModifierCallbackEntries(_ref7) {\n  var _ref10;\n\n  var name = _ref7.name,\n      key = _ref7.key,\n      keyCode = _ref7.keyCode,\n      modifierProperty = _ref7.modifierProperty;\n  var closeName = \"{/\".concat(name, \"}\");\n\n  function open(_ref8) {\n    var currentElement = _ref8.currentElement,\n        eventOverrides = _ref8.eventOverrides;\n\n    var newEventOverrides = _defineProperty({}, modifierProperty, true);\n\n    _dom.fireEvent.keyDown(currentElement(), _objectSpread(_objectSpread({\n      key: key,\n      keyCode: keyCode,\n      which: keyCode\n    }, eventOverrides), newEventOverrides));\n\n    return {\n      eventOverrides: newEventOverrides\n    };\n  }\n\n  open.closeName = closeName;\n  return _ref10 = {}, _defineProperty(_ref10, \"{\".concat(name, \"}\"), open), _defineProperty(_ref10, closeName, function (_ref9) {\n    var currentElement = _ref9.currentElement,\n        eventOverrides = _ref9.eventOverrides;\n\n    var newEventOverrides = _defineProperty({}, modifierProperty, false);\n\n    _dom.fireEvent.keyUp(currentElement(), _objectSpread(_objectSpread({\n      key: key,\n      keyCode: keyCode,\n      which: keyCode\n    }, eventOverrides), newEventOverrides));\n\n    return {\n      eventOverrides: newEventOverrides\n    };\n  }), _ref10;\n}\n\nfunction handleEnter(_ref11) {\n  var currentElement = _ref11.currentElement,\n      eventOverrides = _ref11.eventOverrides;\n  var key = 'Enter';\n  var keyCode = 13;\n\n  var keyDownDefaultNotPrevented = _dom.fireEvent.keyDown(currentElement(), _objectSpread({\n    key: key,\n    keyCode: keyCode,\n    which: keyCode\n  }, eventOverrides));\n\n  if (keyDownDefaultNotPrevented) {\n    var keyPressDefaultNotPrevented = _dom.fireEvent.keyPress(currentElement(), _objectSpread({\n      key: key,\n      keyCode: keyCode,\n      charCode: keyCode\n    }, eventOverrides));\n\n    if (keyPressDefaultNotPrevented) {\n      if ((0, _utils.isClickable)(currentElement())) {\n        _dom.fireEvent.click(currentElement(), _objectSpread({}, eventOverrides));\n      }\n\n      if (currentElement().tagName === 'TEXTAREA') {\n        var _ref12 = (0, _utils.calculateNewValue)('\\n', currentElement()),\n            newValue = _ref12.newValue,\n            newSelectionStart = _ref12.newSelectionStart;\n\n        _dom.fireEvent.input(currentElement(), _objectSpread({\n          target: {\n            value: newValue\n          },\n          inputType: 'insertLineBreak'\n        }, eventOverrides));\n\n        setSelectionRange({\n          currentElement: currentElement,\n          newValue: newValue,\n          newSelectionStart: newSelectionStart\n        });\n      }\n\n      if (currentElement().tagName === 'INPUT' && currentElement().form && (currentElement().form.querySelectorAll('input').length === 1 || currentElement().form.querySelector('input[type=\"submit\"]') || currentElement().form.querySelector('button[type=\"submit\"]'))) {\n        _dom.fireEvent.submit(currentElement().form);\n      }\n    }\n  }\n\n  _dom.fireEvent.keyUp(currentElement(), _objectSpread({\n    key: key,\n    keyCode: keyCode,\n    which: keyCode\n  }, eventOverrides));\n}\n\nfunction handleEsc(_ref13) {\n  var currentElement = _ref13.currentElement,\n      eventOverrides = _ref13.eventOverrides;\n  var key = 'Escape';\n  var keyCode = 27;\n\n  _dom.fireEvent.keyDown(currentElement(), _objectSpread({\n    key: key,\n    keyCode: keyCode,\n    which: keyCode\n  }, eventOverrides)); // NOTE: Browsers do not fire a keypress on meta key presses\n\n\n  _dom.fireEvent.keyUp(currentElement(), _objectSpread({\n    key: key,\n    keyCode: keyCode,\n    which: keyCode\n  }, eventOverrides));\n}\n\nfunction handleDel(_ref14) {\n  var currentElement = _ref14.currentElement,\n      eventOverrides = _ref14.eventOverrides;\n  var key = 'Delete';\n  var keyCode = 46;\n\n  var keyPressDefaultNotPrevented = _dom.fireEvent.keyDown(currentElement(), _objectSpread({\n    key: key,\n    keyCode: keyCode,\n    which: keyCode\n  }, eventOverrides));\n\n  if (keyPressDefaultNotPrevented) {\n    fireInputEventIfNeeded(_objectSpread(_objectSpread({}, calculateNewDeleteValue(currentElement())), {}, {\n      eventOverrides: _objectSpread({\n        inputType: 'deleteContentForward'\n      }, eventOverrides),\n      currentElement: currentElement\n    }));\n  }\n\n  _dom.fireEvent.keyUp(currentElement(), _objectSpread({\n    key: key,\n    keyCode: keyCode,\n    which: keyCode\n  }, eventOverrides));\n}\n\nfunction handleBackspace(_ref15) {\n  var currentElement = _ref15.currentElement,\n      eventOverrides = _ref15.eventOverrides;\n  var key = 'Backspace';\n  var keyCode = 8;\n\n  var keyPressDefaultNotPrevented = _dom.fireEvent.keyDown(currentElement(), _objectSpread({\n    key: key,\n    keyCode: keyCode,\n    which: keyCode\n  }, eventOverrides));\n\n  if (keyPressDefaultNotPrevented) {\n    fireInputEventIfNeeded(_objectSpread(_objectSpread({}, calculateNewBackspaceValue(currentElement())), {}, {\n      eventOverrides: _objectSpread({\n        inputType: 'deleteContentBackward'\n      }, eventOverrides),\n      currentElement: currentElement\n    }));\n  }\n\n  _dom.fireEvent.keyUp(currentElement(), _objectSpread({\n    key: key,\n    keyCode: keyCode,\n    which: keyCode\n  }, eventOverrides));\n}\n\nfunction handleSelectall(_ref16) {\n  var currentElement = _ref16.currentElement;\n  currentElement().setSelectionRange(0, (0, _utils.getValue)(currentElement()).length);\n}\n\nfunction handleSpace(context) {\n  if ((0, _utils.isClickable)(context.currentElement())) {\n    handleSpaceOnClickable(context);\n    return;\n  }\n\n  typeCharacter(' ', context);\n}\n\nfunction handleSpaceOnClickable(_ref17) {\n  var currentElement = _ref17.currentElement,\n      eventOverrides = _ref17.eventOverrides;\n  var key = ' ';\n  var keyCode = 32;\n\n  var keyDownDefaultNotPrevented = _dom.fireEvent.keyDown(currentElement(), _objectSpread({\n    key: key,\n    keyCode: keyCode,\n    which: keyCode\n  }, eventOverrides));\n\n  if (keyDownDefaultNotPrevented) {\n    _dom.fireEvent.keyPress(currentElement(), _objectSpread({\n      key: key,\n      keyCode: keyCode,\n      charCode: keyCode\n    }, eventOverrides));\n  }\n\n  var keyUpDefaultNotPrevented = _dom.fireEvent.keyUp(currentElement(), _objectSpread({\n    key: key,\n    keyCode: keyCode,\n    which: keyCode\n  }, eventOverrides));\n\n  if (keyDownDefaultNotPrevented && keyUpDefaultNotPrevented) {\n    _dom.fireEvent.click(currentElement(), _objectSpread({}, eventOverrides));\n  }\n}","map":{"version":3,"sources":["/home/prateek/python_projects/netflix/netflix2/node_modules/@testing-library/user-event/dist/type.js"],"names":["Object","defineProperty","exports","value","type","_dom","require","_utils","_click","modifierCallbackMap","createModifierCallbackEntries","name","key","keyCode","modifierProperty","specialCharCallbackMap","handleEnter","handleEsc","handleDel","handleBackspace","handleSelectall","handleSpace","wait","time","Promise","resolve","setTimeout","element","text","delay","options","getConfig","asyncWrapper","typeImpl","result","skipClick","skipAutoClose","initialSelectionStart","initialSelectionEnd","disabled","click","isContentEditable","document","getSelection","rangeCount","range","createRange","setStart","setEnd","addRange","currentElement","getActiveElement","ownerDocument","getValue","getSelectionRange","selectionStart","selectionEnd","setSelectionRangeIfNecessary","length","eventCallbacks","callbacks","remainingString","getNextCallback","callback","newRemainingString","push","eventOverrides","returnValue","prevWasMinus","prevWasPeriod","prevValue","typedValue","assign","modifierCallback","getModifierCallback","specialCharCallback","getSpecialCharCallback","getTypeCallback","modifierKey","keys","find","startsWith","closeName","includes","slice","specialChar","character","context","typeCharacter","setSelectionRange","newValue","newSelectionStart","fireInputEventIfNeeded","readOnly","isClickable","fireEvent","input","target","textContent","char","charCodeAt","nextPrevWasMinus","nextPrevWasPeriod","textToBeTyped","keyDownDefaultNotPrevented","keyDown","which","keyPressDefaultNotPrevented","keyPress","charCode","newEntry","isValidDateValue","inputEvent","calculateNewValue","data","inputType","change","keyUp","calculateNewBackspaceValue","firstPart","calculateNewDeleteValue","open","newEventOverrides","tagName","form","querySelectorAll","querySelector","submit","handleSpaceOnClickable","keyUpDefaultNotPrevented"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.type = type;\n\nvar _dom = require(\"@testing-library/dom\");\n\nvar _utils = require(\"./utils\");\n\nvar _click = require(\"./click\");\n\n// TODO: wrap in asyncWrapper\nconst modifierCallbackMap = { ...createModifierCallbackEntries({\n    name: 'shift',\n    key: 'Shift',\n    keyCode: 16,\n    modifierProperty: 'shiftKey'\n  }),\n  ...createModifierCallbackEntries({\n    name: 'ctrl',\n    key: 'Control',\n    keyCode: 17,\n    modifierProperty: 'ctrlKey'\n  }),\n  ...createModifierCallbackEntries({\n    name: 'alt',\n    key: 'Alt',\n    keyCode: 18,\n    modifierProperty: 'altKey'\n  }),\n  ...createModifierCallbackEntries({\n    name: 'meta',\n    key: 'Meta',\n    keyCode: 93,\n    modifierProperty: 'metaKey'\n  })\n};\nconst specialCharCallbackMap = {\n  '{enter}': handleEnter,\n  '{esc}': handleEsc,\n  '{del}': handleDel,\n  '{backspace}': handleBackspace,\n  '{selectall}': handleSelectall,\n  '{space}': handleSpace,\n  ' ': handleSpace\n};\n\nfunction wait(time) {\n  return new Promise(resolve => setTimeout(() => resolve(), time));\n} // this needs to be wrapped in the event/asyncWrapper for React's act and angular's change detection\n// depending on whether it will be async.\n\n\nasync function type(element, text, {\n  delay = 0,\n  ...options\n} = {}) {\n  // we do not want to wrap in the asyncWrapper if we're not\n  // going to actually be doing anything async, so we only wrap\n  // if the delay is greater than 0\n  let result;\n\n  if (delay > 0) {\n    await (0, _dom.getConfig)().asyncWrapper(async () => {\n      result = await typeImpl(element, text, {\n        delay,\n        ...options\n      });\n    });\n  } else {\n    result = typeImpl(element, text, {\n      delay,\n      ...options\n    });\n  }\n\n  return result;\n}\n\nasync function typeImpl(element, text, {\n  delay,\n  skipClick = false,\n  skipAutoClose = false,\n  initialSelectionStart,\n  initialSelectionEnd\n}) {\n  if (element.disabled) return;\n  if (!skipClick) (0, _click.click)(element);\n\n  if ((0, _utils.isContentEditable)(element) && document.getSelection().rangeCount === 0) {\n    const range = document.createRange();\n    range.setStart(element, 0);\n    range.setEnd(element, 0);\n    document.getSelection().addRange(range);\n  } // The focused element could change between each event, so get the currently active element each time\n\n\n  const currentElement = () => (0, _utils.getActiveElement)(element.ownerDocument); // by default, a new element has it's selection start and end at 0\n  // but most of the time when people call \"type\", they expect it to type\n  // at the end of the current input value. So, if the selection start\n  // and end are both the default of 0, then we'll go ahead and change\n  // them to the length of the current value.\n  // the only time it would make sense to pass the initialSelectionStart or\n  // initialSelectionEnd is if you have an input with a value and want to\n  // explicitely start typing with the cursor at 0. Not super common.\n\n\n  const value = (0, _utils.getValue)(currentElement());\n  const {\n    selectionStart,\n    selectionEnd\n  } = (0, _utils.getSelectionRange)(element);\n\n  if (value != null && selectionStart === 0 && selectionEnd === 0) {\n    (0, _utils.setSelectionRangeIfNecessary)(currentElement(), initialSelectionStart != null ? initialSelectionStart : value.length, initialSelectionEnd != null ? initialSelectionEnd : value.length);\n  }\n\n  const eventCallbacks = function () {\n    const callbacks = [];\n    let remainingString = text;\n\n    while (remainingString) {\n      const {\n        callback,\n        remainingString: newRemainingString\n      } = getNextCallback(remainingString, skipAutoClose);\n      callbacks.push(callback);\n      remainingString = newRemainingString;\n    }\n\n    return callbacks;\n  }();\n\n  await async function (callbacks) {\n    const eventOverrides = {};\n    let prevWasMinus, prevWasPeriod, prevValue, typedValue;\n\n    for (const callback of callbacks) {\n      if (delay > 0) await wait(delay);\n\n      if (!currentElement().disabled) {\n        const returnValue = callback({\n          currentElement,\n          prevWasMinus,\n          prevWasPeriod,\n          prevValue,\n          eventOverrides,\n          typedValue\n        });\n        Object.assign(eventOverrides, returnValue == null ? void 0 : returnValue.eventOverrides);\n        prevWasMinus = returnValue == null ? void 0 : returnValue.prevWasMinus;\n        prevWasPeriod = returnValue == null ? void 0 : returnValue.prevWasPeriod;\n        prevValue = returnValue == null ? void 0 : returnValue.prevValue;\n        typedValue = returnValue == null ? void 0 : returnValue.typedValue;\n      }\n    }\n  }(eventCallbacks);\n}\n\nfunction getNextCallback(remainingString, skipAutoClose) {\n  const modifierCallback = getModifierCallback(remainingString, skipAutoClose);\n\n  if (modifierCallback) {\n    return modifierCallback;\n  }\n\n  const specialCharCallback = getSpecialCharCallback(remainingString);\n\n  if (specialCharCallback) {\n    return specialCharCallback;\n  }\n\n  return getTypeCallback(remainingString);\n}\n\nfunction getModifierCallback(remainingString, skipAutoClose) {\n  const modifierKey = Object.keys(modifierCallbackMap).find(key => remainingString.startsWith(key));\n\n  if (!modifierKey) {\n    return null;\n  }\n\n  const callback = modifierCallbackMap[modifierKey]; // if this modifier has an associated \"close\" callback and the developer\n  // doesn't close it themselves, then we close it for them automatically\n  // Effectively if they send in: '{alt}a' then we type: '{alt}a{/alt}'\n\n  if (!skipAutoClose && callback.closeName && !remainingString.includes(callback.closeName)) {\n    remainingString += callback.closeName;\n  }\n\n  remainingString = remainingString.slice(modifierKey.length);\n  return {\n    callback,\n    remainingString\n  };\n}\n\nfunction getSpecialCharCallback(remainingString) {\n  const specialChar = Object.keys(specialCharCallbackMap).find(key => remainingString.startsWith(key));\n\n  if (!specialChar) {\n    return null;\n  }\n\n  return {\n    callback: specialCharCallbackMap[specialChar],\n    remainingString: remainingString.slice(specialChar.length)\n  };\n}\n\nfunction getTypeCallback(remainingString) {\n  const character = remainingString[0];\n  return {\n    callback: context => typeCharacter(character, context),\n    remainingString: remainingString.slice(1)\n  };\n}\n\nfunction setSelectionRange({\n  currentElement,\n  newValue,\n  newSelectionStart\n}) {\n  // if we *can* change the selection start, then we will if the new value\n  // is the same as the current value (so it wasn't programatically changed\n  // when the fireEvent.input was triggered).\n  // The reason we have to do this at all is because it actually *is*\n  // programmatically changed by fireEvent.input, so we have to simulate the\n  // browser's default behavior\n  const value = (0, _utils.getValue)(currentElement());\n\n  if (value === newValue) {\n    (0, _utils.setSelectionRangeIfNecessary)(currentElement(), newSelectionStart, newSelectionStart);\n  } else {\n    // If the currentValue is different than the expected newValue and we *can*\n    // change the selection range, than we should set it to the length of the\n    // currentValue to ensure that the browser behavior is mimicked.\n    (0, _utils.setSelectionRangeIfNecessary)(currentElement(), value.length, value.length);\n  }\n}\n\nfunction fireInputEventIfNeeded({\n  currentElement,\n  newValue,\n  newSelectionStart,\n  eventOverrides\n}) {\n  const prevValue = (0, _utils.getValue)(currentElement());\n\n  if (!currentElement().readOnly && !(0, _utils.isClickable)(currentElement()) && newValue !== prevValue) {\n    if ((0, _utils.isContentEditable)(currentElement())) {\n      _dom.fireEvent.input(currentElement(), {\n        target: {\n          textContent: newValue\n        },\n        ...eventOverrides\n      });\n    } else {\n      _dom.fireEvent.input(currentElement(), {\n        target: {\n          value: newValue\n        },\n        ...eventOverrides\n      });\n    }\n\n    setSelectionRange({\n      currentElement,\n      newValue,\n      newSelectionStart\n    });\n  }\n\n  return {\n    prevValue\n  };\n}\n\nfunction typeCharacter(char, {\n  currentElement,\n  prevWasMinus = false,\n  prevWasPeriod = false,\n  prevValue = '',\n  typedValue = '',\n  eventOverrides\n}) {\n  const key = char; // TODO: check if this also valid for characters with diacritic markers e.g. úé etc\n\n  const keyCode = char.charCodeAt(0);\n  let nextPrevWasMinus, nextPrevWasPeriod;\n  const textToBeTyped = typedValue + char;\n\n  const keyDownDefaultNotPrevented = _dom.fireEvent.keyDown(currentElement(), {\n    key,\n    keyCode,\n    which: keyCode,\n    ...eventOverrides\n  });\n\n  if (keyDownDefaultNotPrevented) {\n    const keyPressDefaultNotPrevented = _dom.fireEvent.keyPress(currentElement(), {\n      key,\n      keyCode,\n      charCode: keyCode,\n      ...eventOverrides\n    });\n\n    if ((0, _utils.getValue)(currentElement()) != null && keyPressDefaultNotPrevented) {\n      let newEntry = char;\n\n      if (prevWasMinus) {\n        newEntry = `-${char}`;\n      } else if (prevWasPeriod) {\n        newEntry = `${prevValue}.${char}`;\n      }\n\n      if ((0, _utils.isValidDateValue)(currentElement(), textToBeTyped)) {\n        newEntry = textToBeTyped;\n      }\n\n      const inputEvent = fireInputEventIfNeeded({ ...(0, _utils.calculateNewValue)(newEntry, currentElement()),\n        eventOverrides: {\n          data: key,\n          inputType: 'insertText',\n          ...eventOverrides\n        },\n        currentElement\n      });\n      prevValue = inputEvent.prevValue;\n\n      if ((0, _utils.isValidDateValue)(currentElement(), textToBeTyped)) {\n        _dom.fireEvent.change(currentElement(), {\n          target: {\n            value: textToBeTyped\n          }\n        });\n      } // typing \"-\" into a number input will not actually update the value\n      // so for the next character we type, the value should be set to\n      // `-${newEntry}`\n      // we also preserve the prevWasMinus when the value is unchanged due\n      // to typing an invalid character (typing \"-a3\" results in \"-3\")\n      // same applies for the decimal character.\n\n\n      if (currentElement().type === 'number') {\n        const newValue = (0, _utils.getValue)(currentElement());\n\n        if (newValue === prevValue && newEntry !== '-') {\n          nextPrevWasMinus = prevWasMinus;\n        } else {\n          nextPrevWasMinus = newEntry === '-';\n        }\n\n        if (newValue === prevValue && newEntry !== '.') {\n          nextPrevWasPeriod = prevWasPeriod;\n        } else {\n          nextPrevWasPeriod = newEntry === '.';\n        }\n      }\n    }\n  }\n\n  _dom.fireEvent.keyUp(currentElement(), {\n    key,\n    keyCode,\n    which: keyCode,\n    ...eventOverrides\n  });\n\n  return {\n    prevWasMinus: nextPrevWasMinus,\n    prevWasPeriod: nextPrevWasPeriod,\n    prevValue,\n    typedValue: textToBeTyped\n  };\n} // yes, calculateNewBackspaceValue and calculateNewValue look extremely similar\n// and you may be tempted to create a shared abstraction.\n// If you, brave soul, decide to so endevor, please increment this count\n// when you inevitably fail: 1\n\n\nfunction calculateNewBackspaceValue(element) {\n  const {\n    selectionStart,\n    selectionEnd\n  } = (0, _utils.getSelectionRange)(element);\n  const value = (0, _utils.getValue)(element);\n  let newValue, newSelectionStart;\n\n  if (selectionStart === null) {\n    // at the end of an input type that does not support selection ranges\n    // https://github.com/testing-library/user-event/issues/316#issuecomment-639744793\n    newValue = value.slice(0, value.length - 1);\n    newSelectionStart = selectionStart - 1;\n  } else if (selectionStart === selectionEnd) {\n    if (selectionStart === 0) {\n      // at the beginning of the input\n      newValue = value;\n      newSelectionStart = selectionStart;\n    } else if (selectionStart === value.length) {\n      // at the end of the input\n      newValue = value.slice(0, value.length - 1);\n      newSelectionStart = selectionStart - 1;\n    } else {\n      // in the middle of the input\n      newValue = value.slice(0, selectionStart - 1) + value.slice(selectionEnd);\n      newSelectionStart = selectionStart - 1;\n    }\n  } else {\n    // we have something selected\n    const firstPart = value.slice(0, selectionStart);\n    newValue = firstPart + value.slice(selectionEnd);\n    newSelectionStart = firstPart.length;\n  }\n\n  return {\n    newValue,\n    newSelectionStart\n  };\n}\n\nfunction calculateNewDeleteValue(element) {\n  const {\n    selectionStart,\n    selectionEnd\n  } = (0, _utils.getSelectionRange)(element);\n  const value = (0, _utils.getValue)(element);\n  let newValue;\n\n  if (selectionStart === null) {\n    // at the end of an input type that does not support selection ranges\n    // https://github.com/testing-library/user-event/issues/316#issuecomment-639744793\n    newValue = value;\n  } else if (selectionStart === selectionEnd) {\n    if (selectionStart === 0) {\n      // at the beginning of the input\n      newValue = value.slice(1);\n    } else if (selectionStart === value.length) {\n      // at the end of the input\n      newValue = value;\n    } else {\n      // in the middle of the input\n      newValue = value.slice(0, selectionStart) + value.slice(selectionEnd + 1);\n    }\n  } else {\n    // we have something selected\n    const firstPart = value.slice(0, selectionStart);\n    newValue = firstPart + value.slice(selectionEnd);\n  }\n\n  return {\n    newValue,\n    newSelectionStart: selectionStart\n  };\n}\n\nfunction createModifierCallbackEntries({\n  name,\n  key,\n  keyCode,\n  modifierProperty\n}) {\n  const closeName = `{/${name}}`;\n\n  function open({\n    currentElement,\n    eventOverrides\n  }) {\n    const newEventOverrides = {\n      [modifierProperty]: true\n    };\n\n    _dom.fireEvent.keyDown(currentElement(), {\n      key,\n      keyCode,\n      which: keyCode,\n      ...eventOverrides,\n      ...newEventOverrides\n    });\n\n    return {\n      eventOverrides: newEventOverrides\n    };\n  }\n\n  open.closeName = closeName;\n  return {\n    [`{${name}}`]: open,\n    [closeName]: function ({\n      currentElement,\n      eventOverrides\n    }) {\n      const newEventOverrides = {\n        [modifierProperty]: false\n      };\n\n      _dom.fireEvent.keyUp(currentElement(), {\n        key,\n        keyCode,\n        which: keyCode,\n        ...eventOverrides,\n        ...newEventOverrides\n      });\n\n      return {\n        eventOverrides: newEventOverrides\n      };\n    }\n  };\n}\n\nfunction handleEnter({\n  currentElement,\n  eventOverrides\n}) {\n  const key = 'Enter';\n  const keyCode = 13;\n\n  const keyDownDefaultNotPrevented = _dom.fireEvent.keyDown(currentElement(), {\n    key,\n    keyCode,\n    which: keyCode,\n    ...eventOverrides\n  });\n\n  if (keyDownDefaultNotPrevented) {\n    const keyPressDefaultNotPrevented = _dom.fireEvent.keyPress(currentElement(), {\n      key,\n      keyCode,\n      charCode: keyCode,\n      ...eventOverrides\n    });\n\n    if (keyPressDefaultNotPrevented) {\n      if ((0, _utils.isClickable)(currentElement())) {\n        _dom.fireEvent.click(currentElement(), { ...eventOverrides\n        });\n      }\n\n      if (currentElement().tagName === 'TEXTAREA') {\n        const {\n          newValue,\n          newSelectionStart\n        } = (0, _utils.calculateNewValue)('\\n', currentElement());\n\n        _dom.fireEvent.input(currentElement(), {\n          target: {\n            value: newValue\n          },\n          inputType: 'insertLineBreak',\n          ...eventOverrides\n        });\n\n        setSelectionRange({\n          currentElement,\n          newValue,\n          newSelectionStart\n        });\n      }\n\n      if (currentElement().tagName === 'INPUT' && currentElement().form && (currentElement().form.querySelectorAll('input').length === 1 || currentElement().form.querySelector('input[type=\"submit\"]') || currentElement().form.querySelector('button[type=\"submit\"]'))) {\n        _dom.fireEvent.submit(currentElement().form);\n      }\n    }\n  }\n\n  _dom.fireEvent.keyUp(currentElement(), {\n    key,\n    keyCode,\n    which: keyCode,\n    ...eventOverrides\n  });\n}\n\nfunction handleEsc({\n  currentElement,\n  eventOverrides\n}) {\n  const key = 'Escape';\n  const keyCode = 27;\n\n  _dom.fireEvent.keyDown(currentElement(), {\n    key,\n    keyCode,\n    which: keyCode,\n    ...eventOverrides\n  }); // NOTE: Browsers do not fire a keypress on meta key presses\n\n\n  _dom.fireEvent.keyUp(currentElement(), {\n    key,\n    keyCode,\n    which: keyCode,\n    ...eventOverrides\n  });\n}\n\nfunction handleDel({\n  currentElement,\n  eventOverrides\n}) {\n  const key = 'Delete';\n  const keyCode = 46;\n\n  const keyPressDefaultNotPrevented = _dom.fireEvent.keyDown(currentElement(), {\n    key,\n    keyCode,\n    which: keyCode,\n    ...eventOverrides\n  });\n\n  if (keyPressDefaultNotPrevented) {\n    fireInputEventIfNeeded({ ...calculateNewDeleteValue(currentElement()),\n      eventOverrides: {\n        inputType: 'deleteContentForward',\n        ...eventOverrides\n      },\n      currentElement\n    });\n  }\n\n  _dom.fireEvent.keyUp(currentElement(), {\n    key,\n    keyCode,\n    which: keyCode,\n    ...eventOverrides\n  });\n}\n\nfunction handleBackspace({\n  currentElement,\n  eventOverrides\n}) {\n  const key = 'Backspace';\n  const keyCode = 8;\n\n  const keyPressDefaultNotPrevented = _dom.fireEvent.keyDown(currentElement(), {\n    key,\n    keyCode,\n    which: keyCode,\n    ...eventOverrides\n  });\n\n  if (keyPressDefaultNotPrevented) {\n    fireInputEventIfNeeded({ ...calculateNewBackspaceValue(currentElement()),\n      eventOverrides: {\n        inputType: 'deleteContentBackward',\n        ...eventOverrides\n      },\n      currentElement\n    });\n  }\n\n  _dom.fireEvent.keyUp(currentElement(), {\n    key,\n    keyCode,\n    which: keyCode,\n    ...eventOverrides\n  });\n}\n\nfunction handleSelectall({\n  currentElement\n}) {\n  currentElement().setSelectionRange(0, (0, _utils.getValue)(currentElement()).length);\n}\n\nfunction handleSpace(context) {\n  if ((0, _utils.isClickable)(context.currentElement())) {\n    handleSpaceOnClickable(context);\n    return;\n  }\n\n  typeCharacter(' ', context);\n}\n\nfunction handleSpaceOnClickable({\n  currentElement,\n  eventOverrides\n}) {\n  const key = ' ';\n  const keyCode = 32;\n\n  const keyDownDefaultNotPrevented = _dom.fireEvent.keyDown(currentElement(), {\n    key,\n    keyCode,\n    which: keyCode,\n    ...eventOverrides\n  });\n\n  if (keyDownDefaultNotPrevented) {\n    _dom.fireEvent.keyPress(currentElement(), {\n      key,\n      keyCode,\n      charCode: keyCode,\n      ...eventOverrides\n    });\n  }\n\n  const keyUpDefaultNotPrevented = _dom.fireEvent.keyUp(currentElement(), {\n    key,\n    keyCode,\n    which: keyCode,\n    ...eventOverrides\n  });\n\n  if (keyDownDefaultNotPrevented && keyUpDefaultNotPrevented) {\n    _dom.fireEvent.click(currentElement(), { ...eventOverrides\n    });\n  }\n}"]},"metadata":{},"sourceType":"script"}